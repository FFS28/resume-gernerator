{% set active_route = app.request.attributes.get('_route') | default('app_index') %}
{% set active_params = app.request.attributes.get('_route_params') | default([]) %}
{% extends '@EasyAdmin/page/content.html.twig' %}

{% block content_title %}{{ 'Report' | trans }}{% endblock %}

{% block main %}
    <div id="report">
        <div class="navigation">
            <ul>
                {% for year in years %}
                    <li>
                        <a class="{% if year == activeYear %}active{% endif %}" href="{{ url(active_route, (active_params | merge({'year' : year}))) }}">{{ year }}</a>
                    </li>
                {% endfor %}
            </ul>
            <ul>
                {% for month in months %}
                    <li>
                        <a class="{% if month['int'] == activeMonth %}active{% endif %}" href="{{ url(active_route, (active_params | merge({'month' : month['int']}))) }}">{{ month['str'] }}</a>
                    </li>
                {% endfor %}
            </ul>
        </div>
        <div class="tr">
            <span class="th">{{ 'Monday' | trans }}</span>
            <span class="th">{{ 'Tuesday' | trans }}</span>
            <span class="th">{{ 'Wednesday' | trans }}</span>
            <span class="th">{{ 'Thursday' | trans }}</span>
            <span class="th">{{ 'Friday' | trans }}</span>
            <span class="th">{{ 'Saturday' | trans }}</span>
            <span class="th">{{ 'Sunday' | trans }}</span>
        </div>
        {{ form_start(reportForm) }}
        <div class="days">
            {% for activity in reportForm.activities %}
                {% if activity.vars.data.date != null %}
                    <div class="day day-active">
                        {{ form_widget(activity.selected) }}
                        <label for="month_activities_activities_{{ loop.index0 }}_selected">
                            {{ form_widget(activity.value) }}
                            {{ form_widget(activity.date) }}
                            {{ form_widget(activity.invoice) }}
                        </label>
                    </div>
                {% else %}
                    <div class="day day-empty">
                        <div style="display: none;">
                            {{ form_widget(activity.selected) }}
                            {{ form_widget(activity.value) }}
                            {{ form_widget(activity.date) }}
                            {{ form_widget(activity.invoice) }}
                        </div>
                    </div>
                {% endif %}
            {% endfor %}
        </div>
        <div class="actions">
            {{ form_widget(reportForm.send) }}
        </div>
        {{ form_end(reportForm) }}
    </div>

{% endblock %}

{% block content_footer %}

{% endblock %}

{% block body_javascript %}

{% endblock %}